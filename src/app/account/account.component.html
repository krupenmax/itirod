<div class="main-container" [ngClass]="getNightMode() ? 'night-mode' : ''">
	<h3>Профиль</h3>
	<section>
		<mat-button-toggle-group #toggler (change)="handle($event)">
			<mat-button-toggle [checked]="true" value="main">Основная</mat-button-toggle>
			<mat-button-toggle value="notifications">Уведомления</mat-button-toggle>
			<mat-button-toggle value="subscribtions">Мои подписки</mat-button-toggle>
			<mat-button-toggle value="activities">Мои события</mat-button-toggle>
		</mat-button-toggle-group>
		<div class="profile-container">
			<ng-container [ngSwitch]="pageMode">
				<section *ngSwitchCase="'main'" class="main">
					<form [formGroup]="form">
						<div>
							<label>Имя</label>
							<input matInput formControlName="name" readonly>
						</div>
						<div>
							<label>Фамилия</label>
							<input formControlName="secondName" readonly>
						</div>
						<div>
							<label>Ник</label>
							<input formControlName="nickname" readonly>
						</div>
						<div>
							<label>Почта</label>
							<input formControlName="email" readonly>
						</div>
					</form>
					<div class="image-field">
						<img src="../../assets/images/Doggy.png" width="80px" height="110px">
						<button mat-button (click)="edit()"><mat-icon>edit</mat-icon></button>
					</div>
				</section>
				<section *ngSwitchCase="'notifications'" class="notifications">
					<table>
						<thead>
							<th></th>
							<th>Дата</th>
							<th>Уведомление</th>
							<th>Кем создано</th>
						</thead>
						<tbody>
							<tr *ngFor="let notification of notifications">
								<td (click)="handleNotificationCheck(notification)">
									<mat-icon *ngIf="!notification.isChecked">notifications_active</mat-icon>
									<mat-icon *ngIf="notification.isChecked">notifications_none</mat-icon>
								</td>
								<td>{{notification.date}}</td>
								<td>{{notification.message}}</td>
								<td>{{notification.createdBy}}</td>
							</tr>
						</tbody>
					</table>
				</section>
				<section *ngSwitchCase="'subscribtions'" class="subscribtions">
					<table>
						<thead>
							<th>Категория</th>
							<th width="200px">Описание</th>
							<th colspan="2" width="80px"><mat-icon>stars</mat-icon></th>
							<th>Кол-во людей</th>
						</thead>
						<tbody>
							<tr *ngFor="let subscribtion of subscribtions" (click)="viewActivity(subscribtion)">
								<td>{{subscribtion.category}}</td>
								<td width="200px">{{subscribtion.description}}</td>
								<td width="35px">
									{{subscribtion.rate}}
								</td>
								<td width="45px">
									<mat-icon>star</mat-icon>
								</td>
								<td>{{subscribtion.usersSubscribed.length}}</td>
							</tr>
						</tbody>
					</table>
				</section>
				<section *ngSwitchCase="'activities'" class="subscribtions">
					<table>
						<thead>
							<th>Категория</th>
							<th width="200px">Описание</th>
							<th colspan="2" width="80px"><mat-icon>stars</mat-icon></th>
							<th>Кол-во людей</th>
						</thead>
						<tbody>
							<tr *ngFor="let activity of ownedActivities" (click)="viewActivity(activity)">
								<td>{{activity.category}}</td>
								<td width="200px">{{activity.description}}</td>
								<td width="35px">
									{{activity.rate}}
								</td>
								<td width="45px">
									<mat-icon>star</mat-icon>
								</td>
								<td>{{activity.usersSubscribed.length}}</td>
							</tr>
						</tbody>
					</table>
				</section>
			</ng-container>
		</div>
	</section>
</div>
